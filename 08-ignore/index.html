<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="last-modified" content="2016-07-19 12:34:39 +0200">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="search-domain" value="/swc-releases/2016.06/hg-novice">
    <link rel="stylesheet" type="text/css" href="/swc-releases/2016.06/hg-novice/assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="/swc-releases/2016.06/hg-novice/assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="/swc-releases/2016.06/hg-novice/assets/css/lesson.css" />
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicon-swc.ico" />
    
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
    <title>Version Control with Mercurial: Ignoring Things</title>
  </head>
  <body>
    <div class="container">
      <nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      
      
      <a href="https://software-carpentry.org" class="pull-left">
        <img class="navbar-logo" src="/swc-releases/2016.06/hg-novice/assets/img/swc-icon-blue.svg" alt="Software Carpentry logo" />
      </a>
      

      
      <a class="navbar-brand" href="/swc-releases/2016.06/hg-novice/">Home</a>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

	
        <li><a href="/swc-releases/2016.06/hg-novice/conduct/">Code of Conduct</a></li>

	
        
        <li><a href="/swc-releases/2016.06/hg-novice/setup/">Setup</a></li>
        <li><a href="/swc-releases/2016.06/hg-novice/reference/">Reference</a></li>
        <li class="dropdown">
          <a href="/swc-releases/2016.06/hg-novice/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Episodes <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            <li><a href="/swc-releases/2016.06/hg-novice/01-basics/">Automated Version Control</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/02-configuration/">Configuring Mercurial</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/03-create-repo/">Creating a Repository</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/04-tracking/">Tracking Changes to Files</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/05-changes/">Making Changes</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/06-history/">Exploring History</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/07-revert/">Recovering Old Versions</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/08-ignore/">Ignoring Things</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/09-remote-repos/">Remote Repositories</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/10-repo-clones/">Working with Clone Repositories</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/11-collaboration/">Collaboration</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/12-merges/">Merging Changes from Different Clones</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/13-conflicts/">Merge Conflicts</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/14-open/">Open Science</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/15-licensing/">Licensing</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/16-hosting/">Hosting</a></li>
            
          </ul>
        </li>
	

	
	
        <li class="dropdown">
          <a href="/swc-releases/2016.06/hg-novice/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Extras <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            <li><a href="/swc-releases/2016.06/hg-novice/about/">About</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/extras/discuss.html">Discussion</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/figures/">Figures</a></li>
            
            <li><a href="/swc-releases/2016.06/hg-novice/extras/guide.html">Instructor's Guide</a></li>
            
          </ul>
        </li>
	

	
        <li><a href="/swc-releases/2016.06/hg-novice/license/">License</a></li>
      </ul>
      <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search...">
        </div>
      </form>
    </div>
  </div>
</nav>





<div class="row">
  <div class="col-md-1">
    <h3>
      
      <a href="/swc-releases/2016.06/hg-novice/07-revert/"><span class="glyphicon glyphicon-menu-left"></span></a>
      
    </h3>
  </div>
  <div class="col-md-10">
    <h3 class="maintitle"><a href="/swc-releases/2016.06/hg-novice/">Version Control with Mercurial</a></h3>
    <h1 class="maintitle">Ignoring Things</h1>
  </div>
  <div class="col-md-1">
    <h3>
      
      <a href="/swc-releases/2016.06/hg-novice/09-remote-repos/"><span class="glyphicon glyphicon-menu-right"></span></a>
      
    </h3>
  </div>
</div>


<blockquote class="objectives">
  <h2>Overview</h2>

  <div class="row">
    <div class="col-md-3">
      <strong>Teaching:</strong> 10 min
      </br>
      <strong>Exercises:</strong> 5 min
    </div>
    <div class="col-md-9">
      <strong>Questions</strong>
      <ul>
	
	<li><p>How can I tell Mercurial to ignore files I don’t want to track?</p>
</li>
	
      </ul>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Objectives</strong>
      <ul>
	
	<li><p>Configure Mercurial to ignore specific files and explain why it is sometimes useful to do so.</p>
</li>
	
      </ul>
    </div>
  </div>
  
</blockquote>

<p>What if we have files that we do not want Mercurial to track for us,
like backup files created by our editor or intermediate files created during
data analysis?
Let’s create a few dummy files:</p>

<div class="bash highlighter-rouge"><pre class="highlight"><code>$ mkdir inprogress
$ touch plan.txt~ inprogress/a.out inprogress/b.out
</code></pre>
</div>

<p>and see what Mercurial says:</p>

<div class="bash highlighter-rouge"><pre class="highlight"><code>$ hg status
</code></pre>
</div>

<div class="output highlighter-rouge"><pre class="highlight"><code>? plan.txt~
? inprogress/a.out
? inprogress/b.out
</code></pre>
</div>

<p>Putting these files under version control would be a waste of disk space.
What’s worse,
having them all listed could distract us from changes that actually matter,
so let’s tell Mercurial to ignore them.</p>

<p>We do this by creating a file in the root directory of our project called
<code class="highlighter-rouge">.hgignore</code>.</p>

<div class="bash highlighter-rouge"><pre class="highlight"><code>$ nano .hgignore
$ cat .hgignore
</code></pre>
</div>

<div class="output highlighter-rouge"><pre class="highlight"><code>syntax: glob
*~
inprogress/
</code></pre>
</div>

<p>The <code class="highlighter-rouge">syntax: glob</code> line at the top of the file tells Mercurial that we want to
use the same kind of pattern matching that we use in the shell
(which is known as “globbing” and the patterns as “globs”).
The second line tells Mercurial to ignore any file whose name ends with <code class="highlighter-rouge">~</code>
and the third one to ignore everything in the <code class="highlighter-rouge">inprogress</code> directory.
(If any of these files were already being tracked,
Mercurial would continue to track them.)</p>

<p>Once we have created this file,
the output of <code class="highlighter-rouge">hg status</code> is much cleaner:</p>

<div class="bash highlighter-rouge"><pre class="highlight"><code>$ hg status
</code></pre>
</div>

<div class="output highlighter-rouge"><pre class="highlight"><code>? .hgignore
</code></pre>
</div>

<p>The only thing Mercurial notices now is the newly-created <code class="highlighter-rouge">.hgignore</code> file.
You might think we wouldn’t want to track it,
but which files we’re tracking,
which ones we’re not,
when we made those decisions,
and why is part of the story of our project’s development that will help us
understand the project weeks,
months,
or years in the future.
So,
let’s add and commit <code class="highlighter-rouge">.hgignore</code>:</p>

<div class="bash highlighter-rouge"><pre class="highlight"><code>$ hg add .hgignore
$ hg commit -m "Don't track editor backup or in-progress analysis files."
$ hg status
</code></pre>
</div>

<p>We can also always see the status of ignored files if we want:</p>

<div class="bash highlighter-rouge"><pre class="highlight"><code>$ hg status --ignored
</code></pre>
</div>

<div class="output highlighter-rouge"><pre class="highlight"><code>I plan.txt~
I inprogress/a.out
I inprogress/b.out
</code></pre>
</div>

<blockquote class="keypoints">
  <h2>Key Points</h2>
  <ul>
    
    <li><p>Create a <code class="highlighter-rouge">.hgignore</code> file to specify things that Mercurial should ignore.</p>
</li>
    
  </ul>
</blockquote>


      
      <hr/>
<footer>
  <div class="row">
    <div class="col-md-6" align="left">
      <h4>
	Copyright &copy; 2016
	<a href="https://software-carpentry.org">Software Carpentry Foundation</a>
	
      </h4>
    </div>
    <div class="col-md-6" align="right">
      <h4>
	<a href="/">Source</a>
	/
	<a href="/blob/gh-pages/CONTRIBUTING.md">Contributing</a>
	/
	<a href="mailto:lessons@software-carpentry.org">Contact</a>
      </h4>
    </div>
  </div>
</footer>

      
    </div>
    <script src="/swc-releases/2016.06/hg-novice/assets/js/jquery.min.js"></script>
<script src="/swc-releases/2016.06/hg-novice/assets/js/bootstrap.min.js"></script>
<script src="/swc-releases/2016.06/hg-novice/assets/js/lesson.js"></script>

  </body>
</html>
